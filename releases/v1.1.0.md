# v1.1.0 - MCP 2025-11-25 Protocol Compliance

**Release Date:** January 29, 2026

## Highlights

üéâ **Full MCP 2025-11-25 protocol compliance** with Structured Content (`outputSchema`) for all 150+ tools.

## What's New

### Protocol Compliance

- **Structured Content** ‚Äî All 150+ tools now include `outputSchema` for type-safe responses
- **Modern Tool Registration** ‚Äî Migrated to `server.registerTool()` API
- **Progress Notifications** ‚Äî Long-running admin and backup operations emit progress updates

### New Features

- **Stats tools `params` support** ‚Äî All 8 stats tools now accept parameterized `where` clauses
- **JSONB Split Schema Pattern** ‚Äî 6 JSONB tools now support `tableName`, `col`, and `filter` aliases
- **JSONB Stats Payload Control** ‚Äî `topKeysLimit` parameter to control response size

### Bug Fixes

- Fixed 15+ Zod output schema validation errors across tool groups
- Fixed Split Schema violations for parameter aliases
- Fixed transaction savepoint reserved keyword handling
- Fixed Code Mode orphaned transaction cleanup

## ‚ö†Ô∏è Breaking Changes

### Security: SQL Injection Remediation

Tools now **reject** inputs containing SQL injection patterns that were previously passed through:

- WHERE clause injection patterns (`;DROP`, `UNION SELECT`, `--`, `/*`, `pg_sleep`)
- FTS config validation (63 chars max, alphanumeric + underscore only)

**Affected tools:** `pg_text_search`, `pg_text_rank`, `pg_trigram_similarity`, `pg_fuzzy_match`, `pg_regexp_match`, `pg_like_search`, `pg_text_headline`, `pg_create_fts_index`, `pg_vector_search`, `pg_vector_aggregate`

## Security

- **CVE-2026-24842** ‚Äî Docker tar patch upgraded to v7.5.7 (Path Traversal fix)
- **Enhanced Log Sanitization** ‚Äî Stack flattening, taint-breaking, OAuth field redaction
- **Docker Scout** ‚Äî 0 fixable critical/high CVEs

## Dependencies

- `@types/node` 25.0.10 ‚Üí 25.1.0
- `globals` 17.1.0 ‚Üí 17.2.0
- `typescript-eslint` 8.53.1 ‚Üí 8.54.0
- `hono` 4.11.5 ‚Üí 4.11.7

## Links

- [GitHub Repository](https://github.com/neverinfamous/postgresql-mcp)
- [Docker Hub](https://hub.docker.com/r/writenotenow/postgres-mcp)
- [npm Package](https://www.npmjs.com/package/@neverinfamous/postgres-mcp)
- [Full Changelog](https://github.com/neverinfamous/postgresql-mcp/blob/master/CHANGELOG.md)
